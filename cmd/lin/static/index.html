{{define "page"}}
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Linguini</title>
    <link rel="stylesheet" href="static/index.css">
</head>

<body>
    <h1>Hello from linguini</h1>
</body>

<script src="static/svg-pan-zoom.min.js"></script>
<script src="static/viz.js"></script>
<script src="static/full.render.js"></script>
<script>
var viz = new Viz();

fetch('/graph').then(function(resp) {
    resp.text().then(function (text) {
        viz.renderSVGElement(text).then(function(element) {
            document.body.appendChild(element);
            element.id = 'graph';
            svgPanZoom(element);
        }).catch(error => {
            // Create a new Viz instance (@see Caveats page for more info)
            viz = new Viz();

            // Possibly display the error
            console.error(error);
        })
    })
}).catch(function(err) {
    console.error(err)
})
</script>
</html>
{{end}}