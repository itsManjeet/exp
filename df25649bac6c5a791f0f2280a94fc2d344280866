{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "929d19cb_abbef2a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-09-01T21:54:22Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003ddf25649b",
      "tag": "autogenerated:trybots~beginning",
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0eb1fc51_5407f663",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-09-01T22:11:16Z",
      "side": 1,
      "message": "TryBots are happy.\n\n",
      "parentUuid": "929d19cb_abbef2a9",
      "tag": "autogenerated:trybots~happy",
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "187418f7_eb48dbef",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-01T22:12:51Z",
      "side": 1,
      "message": "Question for the reviewers. Is it perhaps cleaner to put cacheRoot as a field of fsCache?",
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5983f53c_70180ea7",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 44473
      },
      "writtenOn": "2021-09-02T02:48:00Z",
      "side": 1,
      "message": "I think it will be cleaner. It will also clarify when cacheRoot gets initialized.",
      "parentUuid": "187418f7_eb48dbef",
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5cd144fe_f9306c90",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-02T17:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5983f53c_70180ea7",
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad0f337f_df43dff9",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 44473
      },
      "writtenOn": "2021-09-02T02:48:00Z",
      "side": 1,
      "message": "When do we validate that cacheRoot is a reasonable path? It seems like this is just during the read and write operations.",
      "range": {
        "startLine": 22,
        "startChar": 30,
        "endLine": 22,
        "endChar": 50
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a404b89d_ca9b9852",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-02T17:43:04Z",
      "side": 1,
      "message": "Yes, the validation pretty much happens during read and write operations. Note that adding a validation function would not really help here. The cache implements osv.Cache interface and that is what db clients end up using.",
      "parentUuid": "ad0f337f_df43dff9",
      "range": {
        "startLine": 22,
        "startChar": 30,
        "endLine": 22,
        "endChar": 50
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50ad3f20_a8226cbf",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 45880
      },
      "writtenOn": "2021-09-02T05:00:27Z",
      "side": 1,
      "message": "Since all these methods take \"dbName\" as an argument, perhaps it can be moved into \"fsCache\" as a field?",
      "range": {
        "startLine": 29,
        "startChar": 28,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab8675b8_2e1643d5",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-02T17:43:04Z",
      "side": 1,
      "message": "Good point, but it can\u0027t be moved. The cache is used by the db client. The db client does not create a cache; it just gets one, in the form of an interface field, and calls its methods.",
      "parentUuid": "50ad3f20_a8226cbf",
      "range": {
        "startLine": 29,
        "startChar": 28,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecbb81ed_0150da31",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 45880
      },
      "writtenOn": "2021-09-02T05:00:27Z",
      "side": 1,
      "message": "If the file doesn\u0027t exist, why is the error ignored?\n\nAlso, will it be better if we first whether the file exists (the code may be longer though)?\n```\nif _, err :\u003d os.Stat(\"...\"); os.IsNotExist(err) {\n  ...\n}\n```",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 34,
        "endChar": 3
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18f7b97e_57e756fc",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 45880
      },
      "writtenOn": "2021-09-02T05:00:27Z",
      "side": 1,
      "message": "Why not just return the \"index\" (which has only these two fields)?",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 37
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c20b8af_c3b9a292",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-02T17:43:04Z",
      "side": 1,
      "message": "To respect osv.Client interface. Different implementations of cache might have different logic for producing time stamps.",
      "parentUuid": "18f7b97e_57e756fc",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 37
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fa6bb39_57509b8f",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 45880
      },
      "writtenOn": "2021-09-02T05:00:27Z",
      "side": 1,
      "message": "Ditto. Why not just pass in (,,,, index cachedIndex)?",
      "range": {
        "startLine": 44,
        "startChar": 44,
        "endLine": 44,
        "endChar": 82
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "86b6b1d2_c2ca7034",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 44008
      },
      "writtenOn": "2021-09-02T17:43:04Z",
      "side": 1,
      "message": "Ditto, to respect osv.Client interface.",
      "parentUuid": "2fa6bb39_57509b8f",
      "range": {
        "startLine": 44,
        "startChar": 44,
        "endLine": 44,
        "endChar": 82
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e18165bc_54fd19d2",
        "filename": "vulndb/govulncheck/cache.go",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 44473
      },
      "writtenOn": "2021-09-02T02:48:00Z",
      "side": 1,
      "message": "Not sure I have a strong opinion about the permissions. But I have not thought hard about them. Can you explain why you chose the defaults you did?",
      "range": {
        "startLine": 79,
        "startChar": 29,
        "endLine": 79,
        "endChar": 33
      },
      "revId": "df25649bac6c5a791f0f2280a94fc2d344280866",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}